webpackJsonp([17],{228:function(t,e,s){function o(t){s(356)}var n=s(0)(s(325),s(382),o,null,null);t.exports=n.exports},325:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s(13),n=s.n(o),a=s(115),i=s.n(a),r=s(6);e.default={name:"myInformation",head:function(){return{title:"个人信息"}},data:function(){return{userInfo:{},position:"default",showPositionValue:!0,avatarUrl:"",showPrompt:!1}},computed:n()({},s.i(r.b)(["mobileNbr","global","isLogin"]),s.i(r.c)(["doneTodosCount"])),methods:n()({},s.i(r.d)({}),{overImg:function(){this.showPrompt=!0},outImg:function(){this.showPrompt=!1},UploadNewImg:function(t){var e=new FormData;e.append("Img",t),e.append("chunk","12"),e.append("id","19"),e.append("jsonrpc","2.0"),e.append("method","uploadHeadImage"),e.append("userCode",this.$store.state.userCode);var s={headers:{"Content-Type":"application/x-www-form-urlencoded"}};this.axios({method:"post",url:this.global.hftcom+"/Api/UploadImage/uploadHeadImage",data:e,config:s}).then(function(t){})},showNewAvatar:function(){var t=document.getElementById("changeAvatar").files[0];console.log(t.size),console.log(t.name),console.log(t.type),t.size>524288?this.$vux.toast.text("图片太大，上传失败","bottom"):this.UploadNewImg(t)},changeInmg:function(){document.getElementById("changeAvatar").click()},login:function(){this.$store.state.isBLR=1,this.$store.state.showLoginBox=!0},register:function(){this.$store.state.isBLR=2,this.$store.state.showLoginBox=!0},bindTel:function(){this.$store.state.isBLR=0,this.$store.state.showLoginBox=!0},getUserInfo:function(){var t=this,e=this;this.axios({method:"post",url:e.global.hftcomClient,data:'{"id":19,"jsonrpc":"2.0","method":"getUserInfo","params":{"userCode":"'+this.$store.state.userCode+'"}}',responseType:"json"}).then(function(e){t.userInfo=e.data.result,console.log(e.data.result),"http"!==e.data.result.avatarUrl.slice(0,4)&&(t.userInfo.avatarUrl=t.global.hftcom+e.data.result.avatarUrl)})},clearCookie:function(){var t=this;this.$vux.confirm.show({title:"将清空所有用户数据，确定要退出登陆吗？",onCancel:function(){t.$vux.confirm.hide()},onConfirm:function(){t.$store.dispatch("clearCookie"),t.$router.push("/myInformation"),t.userInfo={}}})},toPage:function(t){this.$router.push(t)},toPersonalPage:function(t){""===this.$store.state.userCode||void 0===this.$store.state.userCode?(this.$store.state.isBLR=1,this.$store.state.showLoginBox=!0,this.$vux.toast.text("请登录","bottom")):this.$router.push(t)}}),created:function(){this.isLogin&&this.getUserInfo()},components:{"v-nav":i.a}}},356:function(t,e){},382:function(t,e,s){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"myinformation"}},[o("div",{staticClass:"personalInfo"},[o("div",{staticClass:"img",class:[!0===t.showPrompt?"showPrompt":""],on:{click:function(e){t.changeInmg()},mouseover:function(e){t.overImg()},mouseout:function(e){t.outImg()}}},[o("img",{directives:[{name:"show",rawName:"v-show",value:""===t.userInfo.avatarUrl||void 0===t.userInfo.avatarUrl,expression:"userInfo.avatarUrl\n==='' || userInfo.avatarUrl\n=== undefined"}],attrs:{src:s(119),alt:""}}),""!=t.userInfo.avatarUrl&&void 0!=t.userInfo.avatarUrl?o("img",{attrs:{src:t.userInfo.avatarUrl,alt:""}}):t._e()]),t._v(" "),o("div",{staticClass:"weixinId"},[t._v("微信名称")]),t._v(" "),o("div",{staticClass:"mobile"},[o("span",{directives:[{name:"show",rawName:"v-show",value:""===t.userInfo.nickName,expression:"userInfo.nickName===''"}]},[t._v("快给你自己取个昵称吧")]),t._v(t._s(t.userInfo.nickName))]),t._v(" "),o("button",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],staticClass:"login",on:{click:t.login}},[t._v("登录")]),t._v("  "),o("button",{directives:[{name:"show",rawName:"v-show",value:!t.isLogin,expression:"!isLogin"}],staticClass:"login",on:{click:t.register}},[t._v("注册")]),t._v(" "),t._m(0)]),t._v(" "),o("div",{staticClass:"information"},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"infoItem",on:{click:function(e){t.toPersonalPage("myvipcard")}}},[t._m(1)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"infoItem",on:{click:function(e){t.toPersonalPage("changemyinfo")}}},[t._m(2)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"infoItem",on:{click:t.bindTel}},[t._m(3)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"infoItem",on:{click:function(e){t.toPersonalPage("mycollection")}}},[t._m(4)]),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isLogin,expression:"isLogin"}],staticClass:"infoItem",on:{click:function(e){t.toPersonalPage("order")}}},[t._m(5)]),t._v(" "),o("div",{staticClass:"infoItem",on:{click:function(e){t.toPage("aboutus")}}},[t._m(6)]),t._v(" "),o("div",{staticClass:"infoItem",on:{click:function(e){t.toPage("cooperation")}}},[t._m(7)])]),t._v(" "),o("input",{attrs:{type:"file",id:"changeAvatar",accept:"image/*"},on:{change:function(e){t.showNewAvatar()}}}),t._v(" "),o("v-nav")],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"circle"},[s("div",{staticClass:"circle1"}),t._v(" "),s("div",{staticClass:"circle2"}),t._v(" "),s("div",{staticClass:"circle3"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("添加会员卡至微信卡包"),s("span",{staticClass:"arrow icon-back"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("修改个人信息"),s("span",{staticClass:"arrow icon-back"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("绑定手机号"),s("span",{staticClass:"arrow icon-back"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("我的收藏"),s("span",{staticClass:"arrow icon-back"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("我的订单"),s("span",{staticClass:"arrow icon-back"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("关于我们"),s("span",{staticClass:"arrow icon-back"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[t._v("我要合作"),s("span",{staticClass:"arrow icon-back"})])}]}}});
//# sourceMappingURL=17.b8dbc42ed23427828a4a.js.map