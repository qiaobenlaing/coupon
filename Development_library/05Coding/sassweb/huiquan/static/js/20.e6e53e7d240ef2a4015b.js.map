{"version":3,"sources":["webpack:///static/js/20.e6e53e7d240ef2a4015b.js","webpack:///./src/components/myinformation/changemyinfo.vue?c74e","webpack:///./src/components/myinformation/changemyinfo.vue","webpack:///./src/components/myinformation/changemyinfo.vue?e8ed"],"names":["webpackJsonp","224","module","exports","__webpack_require__","injectStyle","ssrContext","Component","322","__webpack_exports__","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_2_vuex__","name","head","title","data","oldUserInfo","userInfo","nickName","realName","city","sex","newUserInfo","position","showPositionValue","isLogin","cityList","isopen","computed","i","beforeCreate","methods","goBack","this","$router","go","getUserInfo","that","axios","method","url","global","hftcomClient","$store","state","userCode","contentType","dataType","then","result","item","undefined","updateUserInfo","flag","testNickName","testRealName","$vux","toast","text","test","console","log","mobileNbr","code","openselect","chooseCity","closeSelect","created","_this","dispatch","table","components","345","372","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","on","click","_v","$event","for","directives","rawName","expression","domProps","input","target","composing","$set","type","checked","_q","change","model","callback","$$v","_s","_l","accept","showNewAvatar","staticRenderFns"],"mappings":"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","file":"static/js/20.e6e53e7d240ef2a4015b.js","sourcesContent":["webpackJsonp([20],{\n\n/***/ 224:\n/***/ (function(module, exports, __webpack_require__) {\n\nfunction injectStyle (ssrContext) {\n  __webpack_require__(345)\n}\nvar Component = __webpack_require__(0)(\n  /* script */\n  __webpack_require__(322),\n  /* template */\n  __webpack_require__(372),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 322:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_vuex__ = __webpack_require__(6);\n\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    name: 'myInformation',\n    head: function head() {\n        return {\n            title: '个人信息'\n        };\n    },\n    data: function data() {\n        return {\n            oldUserInfo: {},\n            userInfo: { 'nickName': '', 'realName': '', 'city': '', 'sex': '' },\n            newUserInfo: {},\n            position: 'default',\n            showPositionValue: true,\n            isLogin: true,\n            cityList: {},\n            isopen: false\n        };\n    },\n\n    computed: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"b\" /* mapState */])(['mobileNbr', 'global']), __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2_vuex__[\"c\" /* mapGetters */])(['doneTodosCount'])),\n    beforeCreate: function beforeCreate() {},\n\n    methods: {\n        goBack: function goBack() {\n            this.$router.go(-1);\n        },\n\n        getUserInfo: function getUserInfo() {\n            var that = this;\n            this.axios({\n                method: 'post',\n                url: this.global.hftcomClient,\n                data: '{\"id\":19,\"jsonrpc\":\"2.0\",\"method\":\"getUserInfo\",\"params\":{\"userCode\":\"' + this.$store.state.userCode + '\"}}',\n                contentType: 'application/json',\n                dataType: 'json'\n            }).then(function (result) {\n                for (var item in that.userInfo) {\n                    if (result.data.result[item] === undefined || result.data.result[item] === '' || result.data.result[item] === '市') {\n                        that.userInfo[item] = '暂无';\n                        that.oldUserInfo[item] = '暂无';\n                    } else {\n                        that.userInfo[item] = result.data.result[item];\n                        that.oldUserInfo[item] = result.data.result[item];\n                    }\n                }\n            });\n        },\n        updateUserInfo: function updateUserInfo() {\n            var that = this;\n            for (var item in this.userInfo) {\n                if (this.userInfo[item] !== this.oldUserInfo[item]) {\n                    this.newUserInfo[item] = this.userInfo[item];\n                }\n            }\n            var flag = true; // 是否通过校验\n            var testNickName = /^[a-zA-Z0-9_\\u4E00-\\u9FA5]{1,15}$/;\n            var testRealName = /^[\\u4E00-\\u9FA5]{2,7}$/;\n            if (this.newUserInfo.nickName !== undefined) {\n                if (this.newUserInfo.nickName === '') {\n                    that.$vux.toast.text('昵称不允许为空', 'bottom');\n                    flag = false;\n                } else if (!testNickName.test(this.newUserInfo.nickName)) {\n                    that.$vux.toast.text('昵称应为1-15位的中英文、数字及下划线', 'bottom');\n                    flag = false;\n                }\n            }\n            if (this.newUserInfo.realName !== undefined) {\n                if (this.newUserInfo.realName === '') {\n                    that.$vux.toast.text('真实姓名不允许为空', 'bottom');\n                    flag = false;\n                } else if (!testRealName.test(this.newUserInfo.realName)) {\n                    that.$vux.toast.text('真实姓名只允许为中文2-7位', 'bottom');\n                    flag = false;\n                }\n            }\n            if (this.newUserInfo.sex !== undefined) {\n                if (this.newUserInfo.sex === 'U') {\n                    that.$vux.toast.text('请选择性别', 'bottom');\n                    flag = false;\n                }\n            }\n            if (this.newUserInfo.city !== undefined) {}\n            if (__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.newUserInfo) === '{}') {\n                that.$vux.toast.text('您未修改任何信息', 'bottom');\n                flag = false;\n            }\n            if (flag) {\n                console.log('{\"id\":19,\"jsonrpc\":\"2.0\",\"method\":\"updateUserInfo\",\"params\":{\"mobileNbr\":\"' + this.$store.state.mobileNbr + '\",\"userCode\":\"' + this.$store.state.userCode + '\",\"updateInfo\":' + __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.newUserInfo) + '}}');\n                this.axios({\n                    method: 'post',\n                    url: this.global.hftcomClient,\n                    data: '{\"id\":19,\"jsonrpc\":\"2.0\",\"method\":\"updateUserInfo\",\"params\":{\"mobileNbr\":\"' + this.$store.state.mobileNbr + '\",\"userCode\":\"' + this.$store.state.userCode + '\",\"updateInfo\":' + __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(this.newUserInfo) + '}}',\n                    contentType: 'application/json',\n                    dataType: 'json'\n                }).then(function (result) {\n                    switch (result.data.result.code) {\n                        case 50001:\n                            that.$vux.toast.text('请将信息填写完整', 'bottom');\n                            break;\n                        case 20000:\n                            that.$vux.toast.text('失败，请重试', 'bottom');\n                            break;\n                        case 50000:\n                            that.$vux.toast.text('修改成功', 'bottom');\n                            break;\n                        case 50003:\n                            that.$vux.toast.text('您没有修改任何信息', 'bottom');\n                            break;\n                        case 50008:\n                            that.$vux.toast.text('用户不存在', 'bottom');\n                            break;\n                        default:\n                            that.$vux.toast.text(result.data.result, 'bottom');\n                    };\n                });\n            }\n        },\n        openselect: function openselect() {\n            if (this.isopen === true) {\n                this.isopen = false;\n            } else {\n                this.isopen = true;\n            }\n        },\n        chooseCity: function chooseCity(city) {\n            this.userInfo.city = city;\n            this.isopen = false;\n        },\n        closeSelect: function closeSelect() {\n            this.isopen = false;\n        }\n    },\n    created: function created() {\n        var _this = this;\n\n        this.getUserInfo();\n        // this.updateUserInfo();\n        this.$store.dispatch('getOpenCity').then(function (data) {\n            _this.cityList = data.result;\n            console.table(_this.cityList);\n        });\n    },\n\n    components: {}\n});\n\n/***/ }),\n\n/***/ 345:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 372:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"changemyinfo\"\n    }\n  }, [_c('header', {\n    staticClass: \"header\"\n  }, [_c('span', {\n    staticClass: \"header-item icon-back\",\n    on: {\n      \"click\": _vm.goBack\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"header-item\"\n  }, [_vm._v(\"修改个人信息\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"header-item\",\n    on: {\n      \"click\": function($event) {\n        _vm.updateUserInfo()\n      }\n    }\n  }, [_vm._v(\"保存\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"panel\"\n  }, [_c('p', [_c('label', {\n    attrs: {\n      \"for\": \"nickName\"\n    }\n  }, [_vm._v(\"呢称\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.nickName),\n      expression: \"userInfo.nickName\"\n    }],\n    attrs: {\n      \"id\": \"nickName\",\n      \"value\": \"edit me\"\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.nickName)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.$set(_vm.userInfo, \"nickName\", $event.target.value)\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('label', {\n    attrs: {\n      \"for\": \"realName\"\n    }\n  }, [_vm._v(\"真实姓名\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.realName),\n      expression: \"userInfo.realName\"\n    }],\n    attrs: {\n      \"id\": \"realName\",\n      \"value\": \"女\"\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.realName)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.$set(_vm.userInfo, \"realName\", $event.target.value)\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('label', {\n    attrs: {\n      \"for\": \"sex\"\n    }\n  }, [_vm._v(\"性别\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"radio\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"male\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.sex),\n      expression: \"userInfo.sex\"\n    }],\n    attrs: {\n      \"type\": \"radio\",\n      \"id\": \"male\",\n      \"value\": \"M\"\n    },\n    domProps: {\n      \"checked\": _vm._q(_vm.userInfo.sex, \"M\")\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.$set(_vm.userInfo, \"sex\", \"M\")\n      }\n    }\n  }), _vm._v(\"男\")])]), _vm._v(\" \"), _c('span', {\n    staticClass: \"radio\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"female\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.sex),\n      expression: \"userInfo.sex\"\n    }],\n    staticClass: \"radio\",\n    attrs: {\n      \"type\": \"radio\",\n      \"id\": \"female\",\n      \"value\": \"F\"\n    },\n    domProps: {\n      \"checked\": _vm._q(_vm.userInfo.sex, \"F\")\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.$set(_vm.userInfo, \"sex\", \"F\")\n      }\n    }\n  }), _vm._v(\"女\")])]), _vm._v(\" \"), _c('span', {\n    staticClass: \"radio\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"U\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.sex),\n      expression: \"userInfo.sex\"\n    }],\n    staticClass: \"radio\",\n    attrs: {\n      \"type\": \"radio\",\n      \"id\": \"U\",\n      \"value\": \"U\"\n    },\n    domProps: {\n      \"checked\": _vm._q(_vm.userInfo.sex, \"U\")\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.$set(_vm.userInfo, \"sex\", \"U\")\n      }\n    }\n  }), _vm._v(\"未填\")])])]), _c('div', {\n    staticClass: \"city\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"city\"\n    }\n  }, [_vm._v(\"城市\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"cityInfo\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"select\"\n    },\n    on: {\n      \"click\": _vm.openselect\n    },\n    model: {\n      value: (_vm.userInfo.city),\n      callback: function($$v) {\n        _vm.$set(_vm.userInfo, \"city\", $$v)\n      },\n      expression: \"userInfo.city\"\n    }\n  }, [_vm._v(\"\\n          \" + _vm._s(_vm.userInfo.city) + \"\\n        \")]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isopen),\n      expression: \"isopen\"\n    }],\n    staticClass: \"select-item\"\n  }, _vm._l((_vm.cityList), function(city) {\n    return _c('p', {\n      attrs: {\n        \"value\": city.name\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.chooseCity(city.name)\n        }\n      }\n    }, [_vm._v(_vm._s(city.name))])\n  })), _vm._v(\" \"), _c('span', {\n    staticClass: \"icon-ctrl\",\n    on: {\n      \"click\": _vm.openselect\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isopen),\n      expression: \"isopen\"\n    }],\n    staticClass: \"selectMask\",\n    on: {\n      \"click\": _vm.closeSelect\n    }\n  })])]), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"type\": \"file\",\n      \"id\": \"changeAvatar\",\n      \"accept\": \"image/*\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.showNewAvatar()\n      }\n    }\n  })])\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/20.e6e53e7d240ef2a4015b.js","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1575bec5\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./changemyinfo.vue\")\n}\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./changemyinfo.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1575bec5\\\",\\\"hasScoped\\\":false}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./changemyinfo.vue\"),\n  /* styles */\n  injectStyle,\n  /* scopeId */\n  null,\n  /* moduleIdentifier (server only) */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/myinformation/changemyinfo.vue\n// module id = 224\n// module chunks = 20","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {mapState, mapGetters} from 'vuex';\n\nexport default{\n    name: 'myInformation',\n    head() {\n        return {\n            title: '个人信息'\n        };\n    },\n    data () {\n        return {\n            oldUserInfo: {},\n            userInfo: {'nickName': '', 'realName': '', 'city': '', 'sex': ''},\n            newUserInfo: {},\n            position: 'default',\n            showPositionValue: true,\n            isLogin: true,\n            cityList: {},\n            isopen: false\n        };\n    },\n    computed: {\n        ...mapState(['mobileNbr', 'global']),\n        ...mapGetters(['doneTodosCount'])\n    },\n    beforeCreate() {\n    },\n    methods: {\n        goBack () {\n            this.$router.go(-1);\n        },\n        getUserInfo: function() {\n            let that = this;\n            this.axios({\n                method: 'post',\n                url: this.global.hftcomClient,\n                data: '{\"id\":19,\"jsonrpc\":\"2.0\",\"method\":\"getUserInfo\",\"params\":{\"userCode\":\"' + this.$store.state.userCode + '\"}}',\n                contentType: 'application/json',\n                dataType: 'json'\n            }).then((result) => {\n                for (var item in that.userInfo) {\n                    if (result.data.result[item] === undefined || result.data.result[item] === '' || result.data.result[item] === '市') {\n                        that.userInfo[item] = '暂无';\n                        that.oldUserInfo[item] = '暂无';\n                    } else {\n                        that.userInfo[item] = result.data.result[item];\n                        that.oldUserInfo[item] = result.data.result[item];\n                    }\n                }\n            });\n        },\n        updateUserInfo: function() {\n            let that = this;\n            for (var item in this.userInfo) {\n                if (this.userInfo[item] !== this.oldUserInfo[item]) {\n                    this.newUserInfo[item] = this.userInfo[item];\n                }\n            }\n            var flag = true;// 是否通过校验\n            var testNickName = /^[a-zA-Z0-9_\\u4E00-\\u9FA5]{1,15}$/;\n            var testRealName = /^[\\u4E00-\\u9FA5]{2,7}$/;\n            if (this.newUserInfo.nickName !== undefined) {\n                if (this.newUserInfo.nickName === '') {\n                    that.$vux.toast.text('昵称不允许为空', 'bottom');\n                    flag = false;\n                } else if (!testNickName.test(this.newUserInfo.nickName)) {\n                    that.$vux.toast.text('昵称应为1-15位的中英文、数字及下划线', 'bottom');\n                    flag = false;\n                }\n            }\n            if (this.newUserInfo.realName !== undefined) {\n                if (this.newUserInfo.realName === '') {\n                    that.$vux.toast.text('真实姓名不允许为空', 'bottom');\n                    flag = false;\n                } else if (!testRealName.test(this.newUserInfo.realName)) {\n                    that.$vux.toast.text('真实姓名只允许为中文2-7位', 'bottom');\n                    flag = false;\n                }\n            }\n            if (this.newUserInfo.sex !== undefined) {\n                if (this.newUserInfo.sex === 'U') {\n                    that.$vux.toast.text('请选择性别', 'bottom');\n                    flag = false;\n                }\n            }\n            if (this.newUserInfo.city !== undefined) {\n            }\n            if (JSON.stringify(this.newUserInfo) === '{}') {\n                that.$vux.toast.text('您未修改任何信息', 'bottom');\n                flag = false;\n            }\n            if (flag) {\n                console.log('{\"id\":19,\"jsonrpc\":\"2.0\",\"method\":\"updateUserInfo\",\"params\":{\"mobileNbr\":\"' + this.$store.state.mobileNbr + '\",\"userCode\":\"' + this.$store.state.userCode + '\",\"updateInfo\":' + JSON.stringify(this.newUserInfo) + '}}');\n                this.axios({\n                    method: 'post',\n                    url: this.global.hftcomClient,\n                    data: '{\"id\":19,\"jsonrpc\":\"2.0\",\"method\":\"updateUserInfo\",\"params\":{\"mobileNbr\":\"' + this.$store.state.mobileNbr + '\",\"userCode\":\"' + this.$store.state.userCode + '\",\"updateInfo\":' + JSON.stringify(this.newUserInfo) + '}}',\n                    contentType: 'application/json',\n                    dataType: 'json'\n                }).then((result) => {\n                    switch (result.data.result.code) {\n                    case 50001:\n                        that.$vux.toast.text('请将信息填写完整', 'bottom');\n                        break;\n                    case 20000:\n                        that.$vux.toast.text('失败，请重试', 'bottom');\n                        break;\n                    case 50000:\n                        that.$vux.toast.text('修改成功', 'bottom');\n                        break;\n                    case 50003:\n                        that.$vux.toast.text('您没有修改任何信息', 'bottom');\n                        break;\n                    case 50008:\n                        that.$vux.toast.text('用户不存在', 'bottom');\n                        break;\n                    default:\n                        that.$vux.toast.text(result.data.result, 'bottom');\n                    };\n                });\n            }\n        },\n        openselect: function() {\n            if (this.isopen === true) {\n                this.isopen = false;\n            } else {\n                this.isopen = true;\n            }\n        },\n        chooseCity: function(city) {\n            this.userInfo.city = city;\n            this.isopen = false;\n        },\n        closeSelect: function() {\n            this.isopen = false;\n        }\n    },\n    created() {\n        this.getUserInfo();\n        // this.updateUserInfo();\n        this.$store.dispatch('getOpenCity').then((data) => {\n            this.cityList = data.result;\n            console.table(this.cityList);\n        });\n    },\n    components: {\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/myinformation/changemyinfo.vue","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"changemyinfo\"\n    }\n  }, [_c('header', {\n    staticClass: \"header\"\n  }, [_c('span', {\n    staticClass: \"header-item icon-back\",\n    on: {\n      \"click\": _vm.goBack\n    }\n  }), _vm._v(\" \"), _c('span', {\n    staticClass: \"header-item\"\n  }, [_vm._v(\"修改个人信息\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"header-item\",\n    on: {\n      \"click\": function($event) {\n        _vm.updateUserInfo()\n      }\n    }\n  }, [_vm._v(\"保存\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"panel\"\n  }, [_c('p', [_c('label', {\n    attrs: {\n      \"for\": \"nickName\"\n    }\n  }, [_vm._v(\"呢称\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.nickName),\n      expression: \"userInfo.nickName\"\n    }],\n    attrs: {\n      \"id\": \"nickName\",\n      \"value\": \"edit me\"\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.nickName)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.$set(_vm.userInfo, \"nickName\", $event.target.value)\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('label', {\n    attrs: {\n      \"for\": \"realName\"\n    }\n  }, [_vm._v(\"真实姓名\")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.realName),\n      expression: \"userInfo.realName\"\n    }],\n    attrs: {\n      \"id\": \"realName\",\n      \"value\": \"女\"\n    },\n    domProps: {\n      \"value\": (_vm.userInfo.realName)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.$set(_vm.userInfo, \"realName\", $event.target.value)\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_c('label', {\n    attrs: {\n      \"for\": \"sex\"\n    }\n  }, [_vm._v(\"性别\")]), _vm._v(\" \"), _c('span', {\n    staticClass: \"radio\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"male\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.sex),\n      expression: \"userInfo.sex\"\n    }],\n    attrs: {\n      \"type\": \"radio\",\n      \"id\": \"male\",\n      \"value\": \"M\"\n    },\n    domProps: {\n      \"checked\": _vm._q(_vm.userInfo.sex, \"M\")\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.$set(_vm.userInfo, \"sex\", \"M\")\n      }\n    }\n  }), _vm._v(\"男\")])]), _vm._v(\" \"), _c('span', {\n    staticClass: \"radio\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"female\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.sex),\n      expression: \"userInfo.sex\"\n    }],\n    staticClass: \"radio\",\n    attrs: {\n      \"type\": \"radio\",\n      \"id\": \"female\",\n      \"value\": \"F\"\n    },\n    domProps: {\n      \"checked\": _vm._q(_vm.userInfo.sex, \"F\")\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.$set(_vm.userInfo, \"sex\", \"F\")\n      }\n    }\n  }), _vm._v(\"女\")])]), _vm._v(\" \"), _c('span', {\n    staticClass: \"radio\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"U\"\n    }\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.userInfo.sex),\n      expression: \"userInfo.sex\"\n    }],\n    staticClass: \"radio\",\n    attrs: {\n      \"type\": \"radio\",\n      \"id\": \"U\",\n      \"value\": \"U\"\n    },\n    domProps: {\n      \"checked\": _vm._q(_vm.userInfo.sex, \"U\")\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.$set(_vm.userInfo, \"sex\", \"U\")\n      }\n    }\n  }), _vm._v(\"未填\")])])]), _c('div', {\n    staticClass: \"city\"\n  }, [_c('label', {\n    attrs: {\n      \"for\": \"city\"\n    }\n  }, [_vm._v(\"城市\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"cityInfo\"\n  }, [_c('div', {\n    attrs: {\n      \"id\": \"select\"\n    },\n    on: {\n      \"click\": _vm.openselect\n    },\n    model: {\n      value: (_vm.userInfo.city),\n      callback: function($$v) {\n        _vm.$set(_vm.userInfo, \"city\", $$v)\n      },\n      expression: \"userInfo.city\"\n    }\n  }, [_vm._v(\"\\n          \" + _vm._s(_vm.userInfo.city) + \"\\n        \")]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isopen),\n      expression: \"isopen\"\n    }],\n    staticClass: \"select-item\"\n  }, _vm._l((_vm.cityList), function(city) {\n    return _c('p', {\n      attrs: {\n        \"value\": city.name\n      },\n      on: {\n        \"click\": function($event) {\n          _vm.chooseCity(city.name)\n        }\n      }\n    }, [_vm._v(_vm._s(city.name))])\n  })), _vm._v(\" \"), _c('span', {\n    staticClass: \"icon-ctrl\",\n    on: {\n      \"click\": _vm.openselect\n    }\n  })]), _vm._v(\" \"), _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.isopen),\n      expression: \"isopen\"\n    }],\n    staticClass: \"selectMask\",\n    on: {\n      \"click\": _vm.closeSelect\n    }\n  })])]), _vm._v(\" \"), _c('input', {\n    attrs: {\n      \"type\": \"file\",\n      \"id\": \"changeAvatar\",\n      \"accept\": \"image/*\"\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.showNewAvatar()\n      }\n    }\n  })])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-1575bec5\",\"hasScoped\":false}!./~/vux-loader/src/before-template-compiler-loader.js!./~/vux-loader/src/template-loader.js!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/myinformation/changemyinfo.vue\n// module id = 372\n// module chunks = 20"],"sourceRoot":""}